<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.electrical.controller.HistoryController"
            styleClass="main-container">

    <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
    <top>
        <HBox styleClass="header-panel" alignment="CENTER_LEFT" spacing="20">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20"/>
            </padding>
            <Button fx:id="backButton" 
                    text="â† ÐÐ°Ð·Ð°Ð´" 
                    onAction="#handleBack" 
                    styleClass="back-button"/>
            <Label text="Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð¾Ð²" styleClass="header-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="totalLabel" styleClass="total-label"/>
        </HBox>
    </top>

    <!-- Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ -->
    <center>
        <VBox spacing="15">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð² -->
            <HBox styleClass="filter-panel" spacing="20" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="10" right="15" bottom="10" left="15"/>
                </padding>

                <Label text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€:" styleClass="filter-label"/>
                <ComboBox fx:id="typeFilterCombo" styleClass="filter-combo" prefWidth="180"/>

                <CheckBox fx:id="allUsersCheck" text="ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button fx:id="refreshButton" 
                        text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" 
                        onAction="#handleRefresh" 
                        styleClass="refresh-button"/>
                <Button fx:id="deleteButton" 
                        text="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" 
                        onAction="#handleDelete" 
                        styleClass="delete-button"/>
                <Button fx:id="clearButton" 
                        text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ" 
                        onAction="#handleClear" 
                        styleClass="clear-button"/>
            </HBox>

            <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ -->
            <TableView fx:id="historyTable" VBox.vgrow="ALWAYS" styleClass="history-table">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                    <TableColumn fx:id="dateColumn" text="Ð”Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ" prefWidth="150"/>
                    <TableColumn fx:id="typeColumn" text="Ð¢Ð¸Ð¿ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð°" prefWidth="150"/>
                    <TableColumn fx:id="inputColumn" text="Ð’Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹" prefWidth="250"/>
                    <TableColumn fx:id="resultColumn" text="Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚" prefWidth="300"/>
                    <TableColumn fx:id="userColumn" text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ" prefWidth="120"/>
                </columns>
                <placeholder>
                    <Label text="Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð¾Ð² Ð¿ÑƒÑÑ‚Ð°" styleClass="placeholder-text"/>
                </placeholder>
            </TableView>

            <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑÐ½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° -->
            <HBox alignment="CENTER_LEFT">
                <Label fx:id="statusLabel" styleClass="status-label"/>
            </HBox>
        </VBox>
    </center>

</BorderPane>


